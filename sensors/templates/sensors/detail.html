<html>
    <head>

        {% load staticfiles %}
         <title>DILUTE</title>
        <script src="https://use.fontawesome.com/a2c08f3da1.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <link rel="shortcut icon" href="{% static 'users/img/logo-image.jpg' %}">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js" type="text/javascript"></script>
    </head>
<body><!-- style="background-image: url({% static 'users/img/bg/bg-10.jpg' %});"-->
   <nav class="navbar navbar-toggleable-md navbar-light bg-faded">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse " id="navbarTogglerDemo01">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="{% url 'users:homepage' %}">Home </a>
                    </li>
                </ul>
                {% if 'name' in request.session %}
                    Hello {{ request.session.name }} !
                {% endif %}
                <ul class="navbar-nav ml-auto">
                    <!--li class="nav-item">
                        <a class="nav-link" href="#">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Contact Us</a>
                    </li-->
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'sensors:logout' %}">Logout</a>
                    </li>
                </ul>
        </nav>
    <div id = "temp"></div>
    {% if data == 1 %}
     <div class="container">
            <div style="height: 150px">
                <canvas id="myChart" style="height: 50px, width: 50px !important;"></canvas>
            </div>
        </div>
     {% endif %}
     {% if data == 0 %}
        No data
     {% endif %}
        
<script>
//let data1 = JSON.parse('{{temp}}');
 //let time = JSON.parse('{{time}}');
// let date = JSON.parse('{{date}}');
// let humidity = JSON.parse('{{humidity}}');
// let soilmoist = JSON.parse('{{soilmoist}}');
let distance = JSON.parse('{{distance}}');
// let pid = '{{pid}}';
var ctx = document.getElementById("myChart").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
     responsive: false,
     width:100,
     height:100,
    data: {
        
        labels: ["10", "9", "8", "7", "6","5", "4", "3", "2", "1"],
        datasets: [{
            label: 'Water in Litres(L)',
            data: distance,
            fill: true,
                        lineTension: 0.1,
                        backgroundColor: "rgba(26,117,222,0.4)",
                        borderColor: "rgba(26,117,222,1)",
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        borderJoinStyle: 'miter',
                        pointBorderColor: "rgba(26,117,222,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderWidth: 1,
                        pointHoverRadius: 5,
                        pointHoverBackgroundColor: "rgba(26,117,222,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",
                        pointHoverBorderWidth: 2,
                        pointRadius: 1,
                        pointHitRadius: 10,
            
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>

<div style="margin-top: 600px;"></div>
{% if data == 1 %}
<div class="container">
            <div style="height: 150px">
                <canvas id="myChart1" style="height: 50px !important, width: 50px !important;"></canvas>
            </div>
        </div>
        {% endif %}
     {% if data == 0 %}
        No data
     {% endif %}
<script>
let data1 = JSON.parse('{{temp}}');
 //let time = JSON.parse('{{time}}');
// let date = JSON.parse('{{date}}');
// let humidity = JSON.parse('{{humidity}}');
// let soilmoist = JSON.parse('{{soilmoist}}');
//let distance = JSON.parse('{{distance}}');
// let pid = '{{pid}}';

var ctx = document.getElementById("myChart1").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
     responsive: false,
     width:100,
     height:100,
    data: {
        
        labels: ["10", "9", "8", "7", "6","5", "4", "3", "2", "1"],
        datasets: [{
            label: 'pH',
            data: data1,
            fill: true, 
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 99, 132, 0.2)',
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
                'rgba(255,99,132,1)',
            ],           
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});

</script>


<div style="margin-top: 600px;"></div>
{% if data == 1 %}
<div class="container">
            <div style="height: 150px">
                <canvas id="myChart4" style="height: 50px !important, width: 50px !important;"></canvas>
            </div>
        </div>
        {% endif %}
     {% if data == 0 %}
        No data
     {% endif %}
<script>
//let data1 = JSON.parse('{{temp}}');
 //let time = JSON.parse('{{time}}');
// let date = JSON.parse('{{date}}');
// let humidity = JSON.parse('{{humidity}}');
 let soilmoist = JSON.parse('{{soilmoist}}');
//let distance = JSON.parse('{{distance}}');
// let pid = '{{pid}}';

var ctx = document.getElementById("myChart4").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
     responsive: false,
     width:100,
     height:100,
    data: {
        
        labels: ["10", "9", "8", "7", "6","5", "4", "3", "2", "1"],
        datasets: [{
            label: 'Turbidity',
            data: soilmoist,
            fill: true, 
            backgroundColor: [
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
                'rgba(255, 255, 51, 0.5)',
            ],
            borderColor: [
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
                'rgba(255,255,51,1)',
            ],           
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});

</script>

</body>
    
    <script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="{% static 'sensors/js/Rx.min.js' %}"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
<style>
    body {
   
}
</style>
</html>